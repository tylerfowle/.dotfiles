#!/bin/bash

#itermlauncher - open editor, create iterm layout, start gulp
if command -v figlet >/dev/null 2>&1; then
figlet EG
fi

# create new tab and split it
IFS='%'
osascript -e '
tell application "iTerm2"
try

  tell current session of current window
    write text "es"
    set name to "NVIM:"
  end tell

  tell current session of current window
    tell application "System Events" to keystroke "D" using command down
    set name to "GULP:"
    write text "s"
   end tell

  tell current session of current window
    tell application "System Events" to keystroke "d" using command down
    set name to "GIT:"
    write text "clr && git st"
  end tell

  tell application "System Events"
    key code 30 using {command down}
  end

  tell application "System Events"
    repeat 25 times
      key code 125 using {command down, control down}
    end repeat
  end

  end try
end tell
'
